<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>You've Got Mail üíå</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  overflow: hidden;
  touch-action: manipulation;
}

.stage {
  display: none;
  animation: fadeIn 0.8s ease-in;
  width: 100%;
  height: 100vh;
}

.stage.active {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-10px); }
  75% { transform: translateX(10px); }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-5deg); }
  75% { transform: rotate(5deg); }
}

.card {
  background: white;
  padding: 50px 40px;
  border-radius: 30px;
  text-align: center;
  box-shadow: 0 30px 60px rgba(0,0,0,0.3);
  max-width: 600px;
  width: 100%;
  position: relative;
  overflow: hidden;
  max-height: 90vh;
  overflow-y: auto;
  z-index: 10;
}

.card::-webkit-scrollbar {
  width: 8px;
}

.card::-webkit-scrollbar-thumb {
  background: #ff758c;
  border-radius: 10px;
}

.card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
  animation: float 6s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

.card > * {
  position: relative;
  z-index: 2;
}

h1 {
  margin-bottom: 20px;
  color: #333;
  font-size: 2.5em;
}

h2 {
  color: #ff4d6d;
  margin: 25px 0;
  font-size: 1.8em;
  line-height: 1.4;
}

p {
  color: #666;
  line-height: 1.8;
  margin: 18px 0;
  font-size: 1.15em;
}

button {
  padding: 16px 35px;
  font-size: 18px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: bold;
  margin: 10px;
  position: relative;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
  z-index: 10;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
  z-index: -1;
}

button:hover::before,
button:active::before {
  width: 300px;
  height: 300px;
}

.primary-btn {
  background: linear-gradient(135deg, #ff4d6d, #ff758c);
  color: white;
  box-shadow: 0 10px 25px rgba(255, 77, 109, 0.4);
}

.primary-btn:hover,
.primary-btn:active {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 15px 35px rgba(255, 77, 109, 0.6);
}

.secondary-btn {
  background: #f0f0f0;
  color: #333;
}

.envelope {
  width: 220px;
  height: 165px;
  margin: 40px auto;
  position: relative;
  cursor: pointer;
  transition: transform 0.3s;
}

.envelope:hover,
.envelope:active {
  transform: scale(1.1);
  animation: shake 0.5s;
}

.envelope-body {
  width: 220px;
  height: 132px;
  background: #ff758c;
  border-radius: 10px;
  position: relative;
}

.envelope-flap {
  width: 0;
  height: 0;
  border-left: 110px solid transparent;
  border-right: 110px solid transparent;
  border-top: 88px solid #ff4d6d;
  position: absolute;
  top: 0;
  left: 0;
  transform-origin: top;
  transition: transform 0.5s;
}

.envelope.opened .envelope-flap {
  transform: rotateX(180deg);
}

.letter {
  position: absolute;
  width: 176px;
  height: 110px;
  background: white;
  top: 22px;
  left: 22px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 15px;
  color: #ff4d6d;
  font-weight: bold;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  transition: top 0.5s;
}

.envelope.opened .letter {
  top: -40px;
}

.buttons {
  margin-top: 35px;
  position: relative;
  min-height: 120px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

#noBtn {
  position: absolute;
  transition: all 0.3s ease;
  touch-action: none;
}

.hearts {
  position: fixed;
  width: 100%;
  height: 100%;
  pointer-events: none;
  top: 0;
  left: 0;
  z-index: 1;
}

.heart {
  position: absolute;
  font-size: 30px;
  animation: floatHeart 4s ease-in-out infinite;
  opacity: 0;
}

@keyframes floatHeart {
  0% { 
    opacity: 0;
    transform: translateY(0) rotate(0deg);
  }
  50% {
    opacity: 1;
  }
  100% { 
    opacity: 0;
    transform: translateY(-100vh) rotate(360deg);
  }
}

.progress-bar {
  width: 100%;
  height: 10px;
  background: #f0f0f0;
  border-radius: 10px;
  margin: 25px 0;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #ff4d6d, #ff758c);
  border-radius: 10px;
  transition: width 0.5s ease;
}

.quiz-option {
  display: block;
  width: 100%;
  margin: 12px 0;
  padding: 16px;
  background: #f8f9fa;
  border: 2px solid transparent;
  border-radius: 15px;
  cursor: pointer;
  transition: all 0.3s;
  font-size: 15px;
  text-align: left;
  line-height: 1.6;
  -webkit-tap-highlight-color: transparent;
}

.quiz-option:hover,
.quiz-option:active {
  background: #fff;
  border-color: #ff758c;
  transform: translateX(10px);
}

.quiz-option.wrong {
  animation: shake 0.5s;
  background: #ffebee;
  border-color: #f44336;
}

.quiz-option.correct {
  background: #e8f5e9;
  border-color: #4caf50;
  animation: pulse 0.5s;
}

.quiz-counter {
  position: absolute;
  top: 20px;
  right: 20px;
  background: linear-gradient(135deg, #ff4d6d, #ff758c);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: bold;
  box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4);
  z-index: 10;
}

.countdown {
  font-size: 3.5em;
  font-weight: bold;
  color: #ff4d6d;
  margin: 35px 0;
  animation: pulse 1s infinite;
}

.love-meter {
  width: 100%;
  height: 45px;
  background: #f0f0f0;
  border-radius: 25px;
  margin: 25px 0;
  overflow: hidden;
  position: relative;
}

.love-fill {
  height: 100%;
  background: linear-gradient(90deg, #ff4d6d, #ff758c, #ffc4d0);
  border-radius: 25px;
  transition: width 2s ease;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 18px;
  color: white;
  font-weight: bold;
  font-size: 16px;
}

.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  background: #ff4d6d;
  position: absolute;
  animation: confettiFall 3s ease-out forwards;
  pointer-events: none;
}

@keyframes confettiFall {
  to {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

.typing-text {
  overflow: hidden;
  border-right: 3px solid #ff4d6d;
  white-space: nowrap;
  margin: 0 auto;
  animation: typing 3s steps(40) 1s forwards, blink 0.75s step-end infinite;
  max-width: 0;
}

@keyframes typing {
  from { max-width: 0; }
  to { max-width: 100%; }
}

@keyframes blink {
  50% { border-color: transparent; }
}

.skull {
  font-size: 35px;
  animation: wiggle 2s ease-in-out infinite;
  display: inline-block;
}

.hidden {
  display: none !important;
}

/* Tablet and Desktop */
@media (min-width: 601px) {
  .card {
    min-height: 500px;
    padding: 60px 50px;
  }
  
  h1 { font-size: 2.8em; }
  h2 { font-size: 2em; }
  p { font-size: 1.2em; }
}

/* Mobile Optimizations */
@media (max-width: 600px) {
  .stage.active {
    padding: 10px;
  }
  
  .card {
    padding: 35px 25px;
    max-height: 85vh;
  }
  
  h1 { font-size: 1.8em; }
  h2 { font-size: 1.4em; }
  p { font-size: 1em; }
  button { padding: 14px 28px; font-size: 16px; }
  .quiz-option { font-size: 14px; padding: 14px; }
  .envelope { width: 180px; height: 135px; }
  .envelope-body { width: 180px; height: 108px; }
  .envelope-flap { 
    border-left: 90px solid transparent;
    border-right: 90px solid transparent;
    border-top: 72px solid #ff4d6d;
  }
  .letter { width: 144px; height: 90px; font-size: 13px; top: 18px; left: 18px; }
  .envelope.opened .letter { top: -30px; }
  .countdown { font-size: 2.5em; }
  .quiz-counter { font-size: 13px; padding: 6px 12px; top: 15px; right: 15px; }
  .buttons { min-height: 100px; }
}

@media (max-width: 400px) {
  .card { padding: 25px 18px; }
  h1 { font-size: 1.5em; }
  h2 { font-size: 1.2em; }
  p { font-size: 0.95em; }
  button { padding: 12px 24px; font-size: 15px; }
  .envelope { width: 160px; height: 120px; }
  .envelope-body { width: 160px; height: 96px; }
  .envelope-flap { 
    border-left: 80px solid transparent;
    border-right: 80px solid transparent;
    border-top: 64px solid #ff4d6d;
  }
  .letter { width: 128px; height: 80px; font-size: 12px; }
}
</style>
</head>
<body>

<!-- Hearts Background -->
<div class="hearts" id="heartsContainer"></div>

<!-- Stage 1: Email Envelope -->
<div class="stage active" id="stage1">
  <div class="card">
    <h1>üì¨ You've Got Special Mail!</h1>
    <p>Navya, click the envelope below to open your surprise...</p>
    <div class="envelope" id="envelope" onclick="openEnvelope()">
      <div class="envelope-flap"></div>
      <div class="letter">Click to open! üíå</div>
      <div class="envelope-body"></div>
    </div>
    <p style="font-size: 0.9em; color: #999; margin-top: 20px;">
      <em>Hint: It's not a bill... or is it? üòè</em>
    </p>
  </div>
</div>

<!-- Stage 2: Loading Screen -->
<div class="stage" id="stage2">
  <div class="card">
    <h1>‚è≥ Loading Your Surprise...</h1>
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar"></div>
    </div>
    <p id="loadingText">Preparing something special...</p>
    <div class="countdown" id="countdown">3</div>
  </div>
</div>

<!-- Stage 3: Multi-Round Quiz -->
<div class="stage" id="stage3">
  <div class="card">
    <div class="quiz-counter">
      Question <span id="quizNumber">1</span>/5
    </div>
    <h1>üéØ Quiz Time!</h1>
    <p>Prove you're the real Navya (and that you know me) üòè</p>
    <h2 id="quizQuestion"></h2>
    <div id="quizOptions"></div>
    <p style="font-size: 0.9em; color: #999; margin-top: 20px;">
      <em id="quizHint"></em>
    </p>
  </div>
</div>

<!-- Stage 4: Love Meter -->
<div class="stage" id="stage4">
  <div class="card">
    <h1>üíñ Calculating Love Level...</h1>
    <p>Measuring how much I love you...</p>
    <div class="love-meter">
      <div class="love-fill" id="loveFill">0%</div>
    </div>
    <p id="loveStatus">Initiating scan...</p>
  </div>
</div>

<!-- Stage 5: The Big Question -->
<div class="stage" id="stage5">
  <div class="card">
    <h1>Hey Navya üíñ</h1>
    <p>After all that, I've been wanting to ask you something important...</p>
    <h2>Will you be my Valentine? üíï</h2>
    <p><small>(The "NO" button has commitment issues üòÇ)</small></p>
    <div class="buttons">
      <button class="primary-btn" id="yesBtn" onclick="celebrate()">
        YES PLEASE ‚ù§Ô∏è
      </button>
      <button class="secondary-btn" id="noBtn">
        NO üò∂
      </button>
    </div>
    <p style="margin-top: 30px; font-size: 0.9em; color: #999;">
      <em>Failed attempts to reject me: <span id="noCount">0</span> üòÇ</em>
    </p>
  </div>
</div>

<!-- Stage 6: Celebration -->
<div class="stage" id="stage6">
  <div class="card">
    <h1>üéâ YAY!!! Best Day Ever! ü•π</h1>
    <p style="font-size: 1.2em; margin: 20px 0;">
      You just made me the happiest person alive! 
    </p>
    <h2>üíù I Love You Ra üíù</h2>
    <p style="margin-top: 25px; line-height: 1.8;">
      Okay okay, I know konchem force chesi YES click cheyinchanu üòå
      <br><br>
      The quiz was rigged... the NO button was programmed to run... 
      <br>
      typical programmer manipulation ü§ì
      <br><br>
      But you know what? Nuvvante chaala istam ra ‚ù§Ô∏è
      <br><br>
      If that YES was from your heart too...
      <br>
      click the button below üëá
    </p>
    <button class="primary-btn" onclick="revealFinal()" style="margin-top: 20px;">
      It was real ‚ù§Ô∏è (No takebacks!)
    </button>
  </div>
</div>

<!-- Stage 7: Final Message -->
<div class="stage" id="stage7">
  <div class="card">
    <h1 class="typing-text" id="typingText">A Message From My Heart...</h1>
    <div id="finalContent" style="display: none;">
      <p style="margin-top: 30px; line-height: 2; font-size: 1.1em;">
        Ekkada vadili velthavo ani konchem bayam ga untundi... ü•∫
        <br><br>
        But honestly, naku Valentine's Day ante oka particular day matrame kaadhu.
        <br><br>
        <strong style="color: #ff4d6d;">
          Every day with you is Valentine's Day ra ‚ù§Ô∏è
        </strong>
        <br><br>
        Manaki ochhe prathi roju okela celebrate cheskovali...
        <br>
        not just one day in a year. üíû
        <br><br>
        You make my ordinary days extraordinary ‚ú®
        <br><br>
        <em style="font-size: 1.3em; color: #ff4d6d;">
          Happy Valentine's Day, My Love! üíñ
        </em>
        <br><br>
        <small style="color: #999;">
          P.S. - Thanks for completing my rigged quiz üòÇ
        </small>
      </p>
      <button class="primary-btn" onclick="replayJourney()" style="margin-top: 30px;">
        üîÑ Relive This Chaos
      </button>
    </div>
  </div>
</div>

<script>
let currentStage = 1;
let noClickCount = 0;
let currentQuiz = 0;

const noMessages = [
  "Oops! Wrong button üòÖ",
  "Are you sure? üëÄ",
  "Think about it... ü§î",
  "Your loss tbh üòè",
  "I can wait... üíÅ",
  "Still waiting... ‚è∞",
  "Getting lonely here ü•∫",
  "This is awkward üò¨",
  "Fine, be that way üò§",
  "My therapist will hear about this üíî"
];

const quizQuestions = [
  {
    question: "What's my favorite activity when you're talking to me?",
    options: [
      "A) Actually listening like a good boyfriend üòá",
      "B) Nodding while thinking about food üçï",
      "C) Pretending my phone died to escape üì±üíÄ",
      "D) Listening... and planning what to say to make you laugh ‚ù§Ô∏è"
    ],
    correct: 3,
    hint: "Choose wisely... I'm watching üëÄ"
  },
  {
    question: "How do I react when you say 'We need to talk'?",
    options: [
      "A) Calmly ask what's wrong like a mature adult üòå",
      "B) Immediately start apologizing for everything since birth üôè",
      "C) Fake my own death and start a new life in another country üíÄ‚úàÔ∏è",
      "D) Panic internally but act cool externally üò∞üòé"
    ],
    correct: 3,
    hint: "It's the honest one üòÖ"
  },
  {
    question: "What goes through my mind when you don't reply for 10 minutes?",
    options: [
      "A) 'She's probably busy, it's fine' (healthy thinking) üßò",
      "B) 'Did I say something wrong? Is she mad? Should I double text?' üò∞",
      "C) 'She's planning my murder, isn't she?' üî™üíÄ",
      "D) *Opens WhatsApp 47 times to check if you're online* üì±üëÅÔ∏è"
    ],
    correct: 1,
    hint: "I'm not toxic, just... concerned üò¨"
  },
  {
    question: "What's my biggest fear in our relationship?",
    options: [
      "A) You finding someone better (valid fear) üò¢",
      "B) You discovering my Netflix password has your name in it üôà",
      "C) You reading my Google search history: 'how to be funny' üíÄ",
      "D) Losing you... but also you finding my cringe old Facebook posts üò±"
    ],
    correct: 3,
    hint: "It's a tie between emotional and digital embarrassment üòÇ"
  },
  {
    question: "Complete this: 'Navya, you're...'",
    options: [
      "A) '...out of my league but somehow stuck with me' üéØ",
      "B) '...the reason I check my phone every 5 seconds' üì±‚ù§Ô∏è",
      "C) '...proof that my standards are too high... in a good way!' üòå",
      "D) '...everything. Seriously. No pressure though.' üíïüòÖ"
    ],
    correct: 3,
    hint: "The most honest (and slightly desperate) one üòÇ"
  }
];

function createHearts() {
  const container = document.getElementById('heartsContainer');
  setInterval(() => {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.innerHTML = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù'][Math.floor(Math.random() * 5)];
    heart.style.left = Math.random() * 100 + '%';
    heart.style.animationDelay = Math.random() * 2 + 's';
    container.appendChild(heart);
    setTimeout(() => heart.remove(), 4000);
  }, 300);
}

function openEnvelope() {
  const envelope = document.getElementById('envelope');
  envelope.classList.add('opened');
  setTimeout(() => {
    goToStage(2);
    startLoading();
  }, 1000);
}

function startLoading() {
  const progressBar = document.getElementById('progressBar');
  const loadingText = document.getElementById('loadingText');
  const countdown = document.getElementById('countdown');
  
  const messages = [
    "Sprinkling some love dust ‚ú®",
    "Adding extra cuteness ü•∞",
    "Hiding my cringe jokes üôà",
    "Making it perfect for you üíù"
  ];
  
  let progress = 0;
  let messageIndex = 0;
  let count = 3;
  
  const interval = setInterval(() => {
    progress += 25;
    progressBar.style.width = progress + '%';
    loadingText.textContent = messages[messageIndex];
    messageIndex++;
    count--;
    countdown.textContent = count;
    
    if (progress >= 100) {
      clearInterval(interval);
      setTimeout(() => {
        goToStage(3);
        loadQuiz();
      }, 500);
    }
  }, 1000);
}

function loadQuiz() {
  const quiz = quizQuestions[currentQuiz];
  document.getElementById('quizNumber').textContent = currentQuiz + 1;
  document.getElementById('quizQuestion').textContent = quiz.question;
  document.getElementById('quizHint').textContent = quiz.hint;
  
  const optionsContainer = document.getElementById('quizOptions');
  optionsContainer.innerHTML = '';
  
  quiz.options.forEach((option, index) => {
    const button = document.createElement('button');
    button.className = 'quiz-option';
    button.textContent = option;
    button.onclick = () => checkQuiz(button, index === quiz.correct);
    optionsContainer.appendChild(button);
  });
}

function checkQuiz(button, isCorrect) {
  const options = document.querySelectorAll('.quiz-option');
  options.forEach(opt => opt.style.pointerEvents = 'none');
  
  if (isCorrect) {
    button.classList.add('correct');
    setTimeout(() => {
      currentQuiz++;
      if (currentQuiz < quizQuestions.length) {
        loadQuiz();
        options.forEach(opt => {
          opt.classList.remove('correct', 'wrong');
          opt.style.pointerEvents = 'auto';
        });
      } else {
        setTimeout(() => {
          goToStage(4);
          animateLoveMeter();
        }, 1000);
      }
    }, 1500);
  } else {
    button.classList.add('wrong');
    button.innerHTML = button.textContent + " <span class='skull'>üíÄ</span>";
    setTimeout(() => {
      button.classList.remove('wrong');
      button.innerHTML = button.textContent.replace(" üíÄ", "");
      options.forEach(opt => opt.style.pointerEvents = 'auto');
    }, 1000);
  }
}

function animateLoveMeter() {
  const loveFill = document.getElementById('loveFill');
  const loveStatus = document.getElementById('loveStatus');
  
  const statuses = [
    "Scanning heart rate...",
    "Measuring cuddle potential...",
    "Analyzing smile frequency...",
    "Computing forehead kiss quota...",
    "Processing love data..."
  ];
  
  let percentage = 0;
  let statusIndex = 0;
  
  const interval = setInterval(() => {
    percentage += 20;
    loveFill.style.width = percentage + '%';
    loveFill.textContent = percentage + '%';
    loveStatus.textContent = statuses[statusIndex];
    statusIndex++;
    
    if (percentage >= 100) {
      clearInterval(interval);
      loveFill.style.width = '100%';
      setTimeout(() => {
        loveFill.textContent = '‚àû%';
        loveStatus.innerHTML = '<strong style="color: #ff4d6d; font-size: 1.2em;">ERROR: Love exceeds measurable limits! üíïüí•</strong>';
      }, 500);
      setTimeout(() => goToStage(5), 2500);
    }
  }, 600);
}

const noBtn = document.getElementById("noBtn");

function moveNoButton() {
  noClickCount++;
  document.getElementById('noCount').textContent = noClickCount;
  
  const container = document.querySelector('.buttons');
  const containerRect = container.getBoundingClientRect();
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;
  
  const maxX = containerRect.width - btnWidth - 20;
  const maxY = containerRect.height - btnHeight - 20;
  
  const x = Math.max(0, Math.random() * maxX);
  const y = Math.max(0, Math.random() * maxY);
  
  noBtn.style.position = 'absolute';
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
  noBtn.textContent = noMessages[Math.min(noClickCount - 1, noMessages.length - 1)];
  
  document.getElementById('yesBtn').style.animation = 'bounce 0.5s';
  setTimeout(() => {
    document.getElementById('yesBtn').style.animation = '';
  }, 500);
}

noBtn.addEventListener("mouseover", moveNoButton);
noBtn.addEventListener("touchstart", (e) => {
  e.preventDefault();
  moveNoButton();
});

function celebrate() {
  for (let i = 0; i < 150; i++) {
    setTimeout(() => {
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      confetti.style.left = Math.random() * 100 + '%';
      confetti.style.top = '-10px';
      confetti.style.background = ['#ff4d6d', '#ff758c', '#ffc4d0', '#764ba2', '#667eea'][Math.floor(Math.random() * 5)];
      confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
      document.body.appendChild(confetti);
      setTimeout(() => confetti.remove(), 3000);
    }, i * 20);
  }
  
  setTimeout(() => goToStage(6), 1000);
}

function revealFinal() {
  goToStage(7);
  setTimeout(() => {
    document.getElementById('finalContent').style.display = 'block';
  }, 3500);
}

function goToStage(stageNum) {
  document.querySelectorAll('.stage').forEach(stage => {
    stage.classList.remove('active');
  });
  document.getElementById('stage' + stageNum).classList.add('active');
  currentStage = stageNum;
}

function replayJourney() {
  noClickCount = 0;
  currentQuiz = 0;
  document.getElementById('noCount').textContent = '0';
  document.getElementById('noBtn').style.position = 'absolute';
  goToStage(1);
  document.getElementById('envelope').classList.remove('opened');
}

window.onload = function() {
  createHearts();
};
</script>

</body>
</html>
